<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.smbms.mapper.SmbmsAddressMapper">

    <resultMap id="BaseResultMap" type="com.example.smbms.entity.SmbmsAddress">
        <id property="id" column="id" />
        <result property="contact" column="contact" />
        <result property="addressDesc" column="addressDesc" />
        <result property="postCode" column="postCode" />
        <result property="tel" column="tel" />
        <result property="createdBy" column="createdBy" />
        <result property="creationDate" column="creationDate" />
        <result property="modifyBy" column="modifyBy" />
        <result property="modifyDate" column="modifyDate" />
        <result property="userId" column="userId" />
    </resultMap>

    <!-- 插入 -->
    <insert id="insertAddress" parameterType="com.example.smbms.entity.SmbmsAddress" useGeneratedKeys="true" keyProperty="id">
        INSERT INTO smbms_address
        (contact, addressDesc, postCode, tel, createdBy, creationDate, modifyBy, modifyDate, userId)
        VALUES
        (#{contact}, #{addressDesc}, #{postCode}, #{tel}, #{createdBy}, #{creationDate}, #{modifyBy}, #{modifyDate}, #{userId})
    </insert>

    <!-- 删除 -->
    <delete id="deleteAddressById" parameterType="long">
        DELETE FROM smbms_address WHERE id = #{id}
    </delete>

    <!-- 更新 -->
    <update id="updateAddress" parameterType="com.example.smbms.entity.SmbmsAddress">
        UPDATE smbms_address
        SET
        contact = #{contact},
        addressDesc = #{addressDesc},
        postCode = #{postCode},
        tel = #{tel},
        createdBy = #{createdBy},
        creationDate = #{creationDate},
        modifyBy = #{modifyBy},
        modifyDate = #{modifyDate},
        userId = #{userId}
        WHERE id = #{id}
    </update>

    <!-- 查询单个 -->
    <select id="selectAddressById" parameterType="long" resultMap="BaseResultMap">
        SELECT * FROM smbms_address WHERE id = #{id}
    </select>

    <!-- 查询全部 -->
    <select id="selectAllAddresses" resultMap="BaseResultMap">
        SELECT * FROM smbms_address
    </select>

</mapper>

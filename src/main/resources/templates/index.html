<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>用户管理系统</title>
</head>
<body>
    <h1>用户管理系统</h1>

    <!-- 登录状态显示 -->
    <div th:if="${session.currentUser}" style="margin: 10px 0;">
        <p>
            欢迎，[[${session.userName}]]！
            <a href="/logout" style="margin-left: 20px;">退出登录</a>
        </p>
    </div>

    <h3>功能菜单:</h3>
    <ul>
        <li><a href="/user/list">用户列表</a></li>
        <li><a href="/user/add">添加用户</a>（需要管理员权限）</li>
        <li><a href="/user/view/1">查看用户详情</a></li>
    </ul>

    <hr>

    <!-- 如果没有登录，显示登录链接 -->
    <div th:unless="${session.currentUser}">
        <p>请先登录：</p>
        <ul>
            <li><a href="/login">登录</a></li>
            <li><a href="/register">注册</a></li>
        </ul>
    </div>

    <!-- 如果已登录，显示用户信息 -->
    <div th:if="${session.currentUser}">
        <h3>当前用户信息:</h3>
        <ul>
            <li>用户编码: [[${session.currentUser.userCode}]]</li>
            <li>用户姓名: [[${session.currentUser.userName}]]</li>
            <li>用户角色: [[${session.currentUser.userRole == 1 ? '管理员' : '普通用户'}]]</li>
        </ul>
    </div>
</body>
</html>